{% extends 'base.html' %}

{% block content %}
<div class="container">
  <div class="card text-center">
    <div class="card-header">Your todos</div>
    <div class="card-body">
      <h5 class="card-title">List of your todos</h5>
      <p class="card-text">Info on things that need to be done</p>

      <table class="table table-hover">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Info</th>
          <th scope="col">Actions</th>
        </tr>
        </thead>

        <tbody>
        {% for todo in todos %}

        {% if not todo.complete%}
        <tr class="pointer">
          <td>{{ loop.index }}</td>
          <td>{{ todo.title }}</td>
          <td>
            <button type="button" class="btn btn-success" onclick="window.location.href='complete/{{ todo.id }}'">
              Complete
            </button>
            <button type="button" class="btn btn-info" onclick="window.location.href='edit-todo/{{todo.id}}'">
              Edit
            </button>
          </td>
        </tr>

        {% else %}
        <tr class="pointer alert alert-success">
          <td>{{ loop.index }}</td>
          <td class="strike-through-td">{{ todo.title }}</td>
          <td>
            <button type="button" class="btn btn-warning" onclick="window.location.href='complete/{{ todo.id }}'">
             &nbsp;&nbsp; Undo &nbsp;&nbsp;
            </button>
            <button type="button" class="btn btn-info" onclick="window.location.href='edit-todo/{{todo.id}}'">
              Edit
            </button>
          </td>
        </tr>
        {% endif %}

        {% endfor %}
        </tbody>
      </table>
      <a href="add-todo" class="btn btn-primary">Create a New Todo</a>
    </div>
  </div>
</div>
{% endblock %}

